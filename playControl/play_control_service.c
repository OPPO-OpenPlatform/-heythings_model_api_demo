/* Generated by the heythings model compiler.  DO NOT EDIT! */
/* Generated from: playControl.proto */

#include <errno.h>
#include <assert.h>
#include "playControl.pb-c.h"
#include "play_control_service.h"
#include "hey/schema.h"

#define PLAY_CONTROL_SERVICE (46 * 256)
#define PROP_IID_CNT 1
#define ACT_IID_CNT 24

static const struct hey_schema_property play_control_properties_iids[] = {
    [0] = { .iid = 1, .type = HEY_PROPERTY_TYPE_GENERIC },
};
static struct hey_service *play_control_service;

static int32_t action_next_track_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInNextTrack *next_track = iot__service__play_control__action_in_next_track__unpack(NULL, len, value);
    if (NULL == next_track) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_next_track_in action = { 0 };
    ret = play_control_next_track_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_next_track__free_unpacked(next_track, NULL);
    return ret;
}

static void action_next_track_stop_cb(void *cb_data, void *user_context)
{
    play_control_next_track_stop_cb(user_context);
}

/**
 * @brief next track action send message of play control service
 * @param ctx      [action context]
 * @param action   [next track action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_next_track_send(struct hey_action_ctx *ctx, struct play_control_next_track_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief next track action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_next_track_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_previous_track_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInPreviousTrack *previous_track = iot__service__play_control__action_in_previous_track__unpack(NULL, len, value);
    if (NULL == previous_track) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_previous_track_in action = { 0 };
    ret = play_control_previous_track_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_previous_track__free_unpacked(previous_track, NULL);
    return ret;
}

static void action_previous_track_stop_cb(void *cb_data, void *user_context)
{
    play_control_previous_track_stop_cb(user_context);
}

/**
 * @brief previous track action send message of play control service
 * @param ctx      [action context]
 * @param action   [previous track action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_previous_track_send(struct hey_action_ctx *ctx, struct play_control_previous_track_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief previous track action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_previous_track_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_stop_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInStop *stop = iot__service__play_control__action_in_stop__unpack(NULL, len, value);
    if (NULL == stop) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_stop_in action = { 0 };
    ret = play_control_stop_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_stop__free_unpacked(stop, NULL);
    return ret;
}

static void action_stop_stop_cb(void *cb_data, void *user_context)
{
    play_control_stop_stop_cb(user_context);
}

/**
 * @brief stop action send message of play control service
 * @param ctx      [action context]
 * @param action   [stop action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_stop_send(struct hey_action_ctx *ctx, struct play_control_stop_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief stop action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_stop_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_play_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInPlay *play = iot__service__play_control__action_in_play__unpack(NULL, len, value);
    if (NULL == play) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_play_in action = { 0 };
    action.url = play->url;
    ret = play_control_play_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_play__free_unpacked(play, NULL);
    return ret;
}

static void action_play_stop_cb(void *cb_data, void *user_context)
{
    play_control_play_stop_cb(user_context);
}

/**
 * @brief play action send message of play control service
 * @param ctx      [action context]
 * @param action   [play action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_play_send(struct hey_action_ctx *ctx, struct play_control_play_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief play action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_play_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_pause_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInPause *pause = iot__service__play_control__action_in_pause__unpack(NULL, len, value);
    if (NULL == pause) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_pause_in action = { 0 };
    ret = play_control_pause_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_pause__free_unpacked(pause, NULL);
    return ret;
}

static void action_pause_stop_cb(void *cb_data, void *user_context)
{
    play_control_pause_stop_cb(user_context);
}

/**
 * @brief pause action send message of play control service
 * @param ctx      [action context]
 * @param action   [pause action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_pause_send(struct hey_action_ctx *ctx, struct play_control_pause_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief pause action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_pause_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_resume_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInResume *resume = iot__service__play_control__action_in_resume__unpack(NULL, len, value);
    if (NULL == resume) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_resume_in action = { 0 };
    ret = play_control_resume_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_resume__free_unpacked(resume, NULL);
    return ret;
}

static void action_resume_stop_cb(void *cb_data, void *user_context)
{
    play_control_resume_stop_cb(user_context);
}

/**
 * @brief resume action send message of play control service
 * @param ctx      [action context]
 * @param action   [resume action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_resume_send(struct hey_action_ctx *ctx, struct play_control_resume_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief resume action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_resume_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_record_start_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInRecordStart *record_start = iot__service__play_control__action_in_record_start__unpack(NULL, len, value);
    if (NULL == record_start) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_record_start_in action = { 0 };
    ret = play_control_record_start_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_record_start__free_unpacked(record_start, NULL);
    return ret;
}

static void action_record_start_stop_cb(void *cb_data, void *user_context)
{
    play_control_record_start_stop_cb(user_context);
}

/**
 * @brief record start action send message of play control service
 * @param ctx      [action context]
 * @param action   [record start action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_record_start_send(struct hey_action_ctx *ctx, struct play_control_record_start_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief record start action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_record_start_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_forward_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInForward *forward = iot__service__play_control__action_in_forward__unpack(NULL, len, value);
    if (NULL == forward) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_forward_in action = { 0 };
    action.time = forward->time;
    ret = play_control_forward_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_forward__free_unpacked(forward, NULL);
    return ret;
}

static void action_forward_stop_cb(void *cb_data, void *user_context)
{
    play_control_forward_stop_cb(user_context);
}

/**
 * @brief forward action send message of play control service
 * @param ctx      [action context]
 * @param action   [forward action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_forward_send(struct hey_action_ctx *ctx, struct play_control_forward_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief forward action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_forward_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_rewind_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInRewind *rewind = iot__service__play_control__action_in_rewind__unpack(NULL, len, value);
    if (NULL == rewind) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_rewind_in action = { 0 };
    action.time = rewind->time;
    ret = play_control_rewind_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_rewind__free_unpacked(rewind, NULL);
    return ret;
}

static void action_rewind_stop_cb(void *cb_data, void *user_context)
{
    play_control_rewind_stop_cb(user_context);
}

/**
 * @brief rewind action send message of play control service
 * @param ctx      [action context]
 * @param action   [rewind action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_rewind_send(struct hey_action_ctx *ctx, struct play_control_rewind_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief rewind action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_rewind_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_search_previous_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInSearchPrevious *search_previous = iot__service__play_control__action_in_search_previous__unpack(NULL, len, value);
    if (NULL == search_previous) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_search_previous_in action = { 0 };
    ret = play_control_search_previous_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_search_previous__free_unpacked(search_previous, NULL);
    return ret;
}

static void action_search_previous_stop_cb(void *cb_data, void *user_context)
{
    play_control_search_previous_stop_cb(user_context);
}

/**
 * @brief search previous action send message of play control service
 * @param ctx      [action context]
 * @param action   [search previous action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_search_previous_send(struct hey_action_ctx *ctx, struct play_control_search_previous_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief search previous action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_search_previous_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_search_next_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInSearchNext *search_next = iot__service__play_control__action_in_search_next__unpack(NULL, len, value);
    if (NULL == search_next) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_search_next_in action = { 0 };
    ret = play_control_search_next_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_search_next__free_unpacked(search_next, NULL);
    return ret;
}

static void action_search_next_stop_cb(void *cb_data, void *user_context)
{
    play_control_search_next_stop_cb(user_context);
}

/**
 * @brief search next action send message of play control service
 * @param ctx      [action context]
 * @param action   [search next action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_search_next_send(struct hey_action_ctx *ctx, struct play_control_search_next_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief search next action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_search_next_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_screen_capture_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInScreenCapture *screen_capture = iot__service__play_control__action_in_screen_capture__unpack(NULL, len, value);
    if (NULL == screen_capture) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_screen_capture_in action = { 0 };
    ret = play_control_screen_capture_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_screen_capture__free_unpacked(screen_capture, NULL);
    return ret;
}

static void action_screen_capture_stop_cb(void *cb_data, void *user_context)
{
    play_control_screen_capture_stop_cb(user_context);
}

/**
 * @brief screen capture action send message of play control service
 * @param ctx      [action context]
 * @param action   [screen capture action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_screen_capture_send(struct hey_action_ctx *ctx, struct play_control_screen_capture_out *action)
{
    int32_t ret = 0;
    Iot__Service__PlayControl__ActionOutScreenCapture *out = NULL;
    uint8_t *buf = NULL;
    out = malloc(sizeof(Iot__Service__PlayControl__ActionOutScreenCapture));
    if (NULL == out) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__action_out_screen_capture__init(out);
    out->filename = action->filename;
    size_t buf_len = iot__service__play_control__action_out_screen_capture__get_packed_size(out);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
    }
    iot__service__play_control__action_out_screen_capture__pack(out, buf);
    ret = hey_action_msg_send(ctx, buf_len, buf);

out:
    free(out);
    free(buf);
    return ret;
}

/**
 * @brief screen capture action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_screen_capture_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_record_end_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInRecordEnd *record_end = iot__service__play_control__action_in_record_end__unpack(NULL, len, value);
    if (NULL == record_end) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_record_end_in action = { 0 };
    ret = play_control_record_end_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_record_end__free_unpacked(record_end, NULL);
    return ret;
}

static void action_record_end_stop_cb(void *cb_data, void *user_context)
{
    play_control_record_end_stop_cb(user_context);
}

/**
 * @brief record end action send message of play control service
 * @param ctx      [action context]
 * @param action   [record end action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_record_end_send(struct hey_action_ctx *ctx, struct play_control_record_end_out *action)
{
    int32_t ret = 0;
    Iot__Service__PlayControl__ActionOutRecordEnd *out = NULL;
    uint8_t *buf = NULL;
    out = malloc(sizeof(Iot__Service__PlayControl__ActionOutRecordEnd));
    if (NULL == out) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__action_out_record_end__init(out);
    out->thumbnailfilename = action->thumbnailfilename;
    size_t buf_len = iot__service__play_control__action_out_record_end__get_packed_size(out);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
    }
    iot__service__play_control__action_out_record_end__pack(out, buf);
    ret = hey_action_msg_send(ctx, buf_len, buf);

out:
    free(out);
    free(buf);
    return ret;
}

/**
 * @brief record end action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_record_end_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_direction_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInDirectionKeyControl *direction_key_control = iot__service__play_control__action_in_direction_key_control__unpack(NULL, len, value);
    if (NULL == direction_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_direction_key_control_in action = { 0 };
    action.keytype = direction_key_control->keytype;
    action.cursormovement = direction_key_control->cursormovement;
    ret = play_control_direction_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_direction_key_control__free_unpacked(direction_key_control, NULL);
    return ret;
}

static void action_direction_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_direction_key_control_stop_cb(user_context);
}

/**
 * @brief direction key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [direction key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_direction_key_control_send(struct hey_action_ctx *ctx, struct play_control_direction_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief direction key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_direction_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_home_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInHomeKeyControl *home_key_control = iot__service__play_control__action_in_home_key_control__unpack(NULL, len, value);
    if (NULL == home_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_home_key_control_in action = { 0 };
    ret = play_control_home_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_home_key_control__free_unpacked(home_key_control, NULL);
    return ret;
}

static void action_home_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_home_key_control_stop_cb(user_context);
}

/**
 * @brief home key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [home key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_home_key_control_send(struct hey_action_ctx *ctx, struct play_control_home_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief home key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_home_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_return_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInReturnKeyControl *return_key_control = iot__service__play_control__action_in_return_key_control__unpack(NULL, len, value);
    if (NULL == return_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_return_key_control_in action = { 0 };
    ret = play_control_return_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_return_key_control__free_unpacked(return_key_control, NULL);
    return ret;
}

static void action_return_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_return_key_control_stop_cb(user_context);
}

/**
 * @brief return key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [return key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_return_key_control_send(struct hey_action_ctx *ctx, struct play_control_return_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief return key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_return_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_menu_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInMenuKeyControl *menu_key_control = iot__service__play_control__action_in_menu_key_control__unpack(NULL, len, value);
    if (NULL == menu_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_menu_key_control_in action = { 0 };
    ret = play_control_menu_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_menu_key_control__free_unpacked(menu_key_control, NULL);
    return ret;
}

static void action_menu_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_menu_key_control_stop_cb(user_context);
}

/**
 * @brief menu key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [menu key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_menu_key_control_send(struct hey_action_ctx *ctx, struct play_control_menu_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief menu key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_menu_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_set_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInSetKeyControl *set_key_control = iot__service__play_control__action_in_set_key_control__unpack(NULL, len, value);
    if (NULL == set_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_set_key_control_in action = { 0 };
    ret = play_control_set_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_set_key_control__free_unpacked(set_key_control, NULL);
    return ret;
}

static void action_set_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_set_key_control_stop_cb(user_context);
}

/**
 * @brief set key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [set key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_set_key_control_send(struct hey_action_ctx *ctx, struct play_control_set_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief set key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_set_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_smart_home_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInSmartHomeKeyControl *smart_home_key_control = iot__service__play_control__action_in_smart_home_key_control__unpack(NULL, len, value);
    if (NULL == smart_home_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_smart_home_key_control_in action = { 0 };
    ret = play_control_smart_home_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_smart_home_key_control__free_unpacked(smart_home_key_control, NULL);
    return ret;
}

static void action_smart_home_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_smart_home_key_control_stop_cb(user_context);
}

/**
 * @brief smart home key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [smart home key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_smart_home_key_control_send(struct hey_action_ctx *ctx, struct play_control_smart_home_key_control_out *action)
{
    int32_t ret = 0;
    Iot__Service__PlayControl__ActionOutSmartHomeKeyControl *out = NULL;
    uint8_t *buf = NULL;
    out = malloc(sizeof(Iot__Service__PlayControl__ActionOutSmartHomeKeyControl));
    if (NULL == out) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__action_out_smart_home_key_control__init(out);
    out->code = action->code;
    size_t buf_len = iot__service__play_control__action_out_smart_home_key_control__get_packed_size(out);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
    }
    iot__service__play_control__action_out_smart_home_key_control__pack(out, buf);
    ret = hey_action_msg_send(ctx, buf_len, buf);

out:
    free(out);
    free(buf);
    return ret;
}

/**
 * @brief smart home key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_smart_home_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_speech_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInSpeechKeyControl *speech_key_control = iot__service__play_control__action_in_speech_key_control__unpack(NULL, len, value);
    if (NULL == speech_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_speech_key_control_in action = { 0 };
    ret = play_control_speech_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_speech_key_control__free_unpacked(speech_key_control, NULL);
    return ret;
}

static void action_speech_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_speech_key_control_stop_cb(user_context);
}

/**
 * @brief speech key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [speech key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_speech_key_control_send(struct hey_action_ctx *ctx, struct play_control_speech_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief speech key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_speech_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_confirm_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInConfirmKeyControl *confirm_key_control = iot__service__play_control__action_in_confirm_key_control__unpack(NULL, len, value);
    if (NULL == confirm_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_confirm_key_control_in action = { 0 };
    ret = play_control_confirm_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_confirm_key_control__free_unpacked(confirm_key_control, NULL);
    return ret;
}

static void action_confirm_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_confirm_key_control_stop_cb(user_context);
}

/**
 * @brief confirm key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [confirm key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_confirm_key_control_send(struct hey_action_ctx *ctx, struct play_control_confirm_key_control_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief confirm key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_confirm_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_focus_adjust_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInFocusAdjust *focus_adjust = iot__service__play_control__action_in_focus_adjust__unpack(NULL, len, value);
    if (NULL == focus_adjust) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_focus_adjust_in action = { 0 };
    action.direction = focus_adjust->direction;
    action.value = focus_adjust->value;
    ret = play_control_focus_adjust_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_focus_adjust__free_unpacked(focus_adjust, NULL);
    return ret;
}

static void action_focus_adjust_stop_cb(void *cb_data, void *user_context)
{
    play_control_focus_adjust_stop_cb(user_context);
}

/**
 * @brief focus adjust action send message of play control service
 * @param ctx      [action context]
 * @param action   [focus adjust action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_focus_adjust_send(struct hey_action_ctx *ctx, struct play_control_focus_adjust_out *action)
{
    return hey_action_msg_send(ctx, 0, NULL);
}

/**
 * @brief focus adjust action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_focus_adjust_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_screen_cast_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInScreenCastKeyControl *screen_cast_key_control = iot__service__play_control__action_in_screen_cast_key_control__unpack(NULL, len, value);
    if (NULL == screen_cast_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_screen_cast_key_control_in action = { 0 };
    ret = play_control_screen_cast_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_screen_cast_key_control__free_unpacked(screen_cast_key_control, NULL);
    return ret;
}

static void action_screen_cast_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_screen_cast_key_control_stop_cb(user_context);
}

/**
 * @brief screen cast key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [screen cast key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_screen_cast_key_control_send(struct hey_action_ctx *ctx, struct play_control_screen_cast_key_control_out *action)
{
    int32_t ret = 0;
    Iot__Service__PlayControl__ActionOutScreenCastKeyControl *out = NULL;
    uint8_t *buf = NULL;
    out = malloc(sizeof(Iot__Service__PlayControl__ActionOutScreenCastKeyControl));
    if (NULL == out) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__action_out_screen_cast_key_control__init(out);
    out->code = action->code;
    size_t buf_len = iot__service__play_control__action_out_screen_cast_key_control__get_packed_size(out);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
    }
    iot__service__play_control__action_out_screen_cast_key_control__pack(out, buf);
    ret = hey_action_msg_send(ctx, buf_len, buf);

out:
    free(out);
    free(buf);
    return ret;
}

/**
 * @brief screen cast key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_screen_cast_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t action_remote_key_control_start_cb(void *cb_data, struct hey_action_ctx *ctx, size_t len, uint8_t *value, void **user_context)
{
    int32_t ret = -1;
    Iot__Service__PlayControl__ActionInRemoteKeyControl *remote_key_control = iot__service__play_control__action_in_remote_key_control__unpack(NULL, len, value);
    if (NULL == remote_key_control) {
        hey_action_stop(ctx);
        return EINVAL;
    }

    struct play_control_remote_key_control_in action = { 0 };
    ret = play_control_remote_key_control_start_cb(ctx, &action, user_context);

    iot__service__play_control__action_in_remote_key_control__free_unpacked(remote_key_control, NULL);
    return ret;
}

static void action_remote_key_control_stop_cb(void *cb_data, void *user_context)
{
    play_control_remote_key_control_stop_cb(user_context);
}

/**
 * @brief remote key control action send message of play control service
 * @param ctx      [action context]
 * @param action   [remote key control action out]
 * @return int32_t [action send result, 0 means success]
 */
int32_t play_control_remote_key_control_send(struct hey_action_ctx *ctx, struct play_control_remote_key_control_out *action)
{
    int32_t ret = 0;
    Iot__Service__PlayControl__ActionOutRemoteKeyControl *out = NULL;
    uint8_t *buf = NULL;
    out = malloc(sizeof(Iot__Service__PlayControl__ActionOutRemoteKeyControl));
    if (NULL == out) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__action_out_remote_key_control__init(out);
    out->code = action->code;
    size_t buf_len = iot__service__play_control__action_out_remote_key_control__get_packed_size(out);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
    }
    iot__service__play_control__action_out_remote_key_control__pack(out, buf);
    ret = hey_action_msg_send(ctx, buf_len, buf);

out:
    free(out);
    free(buf);
    return ret;
}

/**
 * @brief remote key control action stop of play control service
 * @param ctx      [action context]
 * @return int32_t [action stop result, 0 means success]
 */
int32_t play_control_remote_key_control_stop(struct hey_action_ctx *ctx)
{
    return hey_action_stop(ctx);
}

static int32_t service_play_control_properties_write_cb(void *cb_data, size_t n_iid, uint32_t *iids,
                                                        size_t len, uint8_t *value)
{
    Iot__Service__PlayControl__Properties *props = iot__service__play_control__properties__unpack(NULL, len, value);
    if (NULL == props) {
        return EINVAL;
    }

    int32_t ret = 0;
    struct play_control_properties properties = { 0 };
    properties.playspeed = props->playspeed;
    ret = play_control_properties_write_cb(n_iid, iids, &properties);

    iot__service__play_control__properties__free_unpacked(props, NULL);
    return ret;
}

static const struct hey_properties_callbacks props_cbs = {
    .write = service_play_control_properties_write_cb
};

static const struct hey_action_ctx_callbacks next_track_cbs = {
    .start = action_next_track_start_cb,
    .stop = action_next_track_stop_cb
};

static const struct hey_action_ctx_callbacks previous_track_cbs = {
    .start = action_previous_track_start_cb,
    .stop = action_previous_track_stop_cb
};

static const struct hey_action_ctx_callbacks stop_cbs = {
    .start = action_stop_start_cb,
    .stop = action_stop_stop_cb
};

static const struct hey_action_ctx_callbacks play_cbs = {
    .start = action_play_start_cb,
    .stop = action_play_stop_cb
};

static const struct hey_action_ctx_callbacks pause_cbs = {
    .start = action_pause_start_cb,
    .stop = action_pause_stop_cb
};

static const struct hey_action_ctx_callbacks resume_cbs = {
    .start = action_resume_start_cb,
    .stop = action_resume_stop_cb
};

static const struct hey_action_ctx_callbacks record_start_cbs = {
    .start = action_record_start_start_cb,
    .stop = action_record_start_stop_cb
};

static const struct hey_action_ctx_callbacks forward_cbs = {
    .start = action_forward_start_cb,
    .stop = action_forward_stop_cb
};

static const struct hey_action_ctx_callbacks rewind_cbs = {
    .start = action_rewind_start_cb,
    .stop = action_rewind_stop_cb
};

static const struct hey_action_ctx_callbacks search_previous_cbs = {
    .start = action_search_previous_start_cb,
    .stop = action_search_previous_stop_cb
};

static const struct hey_action_ctx_callbacks search_next_cbs = {
    .start = action_search_next_start_cb,
    .stop = action_search_next_stop_cb
};

static const struct hey_action_ctx_callbacks screen_capture_cbs = {
    .start = action_screen_capture_start_cb,
    .stop = action_screen_capture_stop_cb
};

static const struct hey_action_ctx_callbacks record_end_cbs = {
    .start = action_record_end_start_cb,
    .stop = action_record_end_stop_cb
};

static const struct hey_action_ctx_callbacks direction_key_control_cbs = {
    .start = action_direction_key_control_start_cb,
    .stop = action_direction_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks home_key_control_cbs = {
    .start = action_home_key_control_start_cb,
    .stop = action_home_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks return_key_control_cbs = {
    .start = action_return_key_control_start_cb,
    .stop = action_return_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks menu_key_control_cbs = {
    .start = action_menu_key_control_start_cb,
    .stop = action_menu_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks set_key_control_cbs = {
    .start = action_set_key_control_start_cb,
    .stop = action_set_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks smart_home_key_control_cbs = {
    .start = action_smart_home_key_control_start_cb,
    .stop = action_smart_home_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks speech_key_control_cbs = {
    .start = action_speech_key_control_start_cb,
    .stop = action_speech_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks confirm_key_control_cbs = {
    .start = action_confirm_key_control_start_cb,
    .stop = action_confirm_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks focus_adjust_cbs = {
    .start = action_focus_adjust_start_cb,
    .stop = action_focus_adjust_stop_cb
};

static const struct hey_action_ctx_callbacks screen_cast_key_control_cbs = {
    .start = action_screen_cast_key_control_start_cb,
    .stop = action_screen_cast_key_control_stop_cb
};

static const struct hey_action_ctx_callbacks remote_key_control_cbs = {
    .start = action_remote_key_control_start_cb,
    .stop = action_remote_key_control_stop_cb
};

static const struct hey_action_entry actions_iids[] = {
    [0] = { .iid = PLAY_CONTROL_ACTION_NEXT_TRACK, .type = HEY_ACTION_ONCE, .cbs = &next_track_cbs },
    [1] = { .iid = PLAY_CONTROL_ACTION_PREVIOUS_TRACK, .type = HEY_ACTION_ONCE, .cbs = &previous_track_cbs },
    [2] = { .iid = PLAY_CONTROL_ACTION_STOP, .type = HEY_ACTION_ONCE, .cbs = &stop_cbs },
    [3] = { .iid = PLAY_CONTROL_ACTION_PLAY, .type = HEY_ACTION_ONCE, .cbs = &play_cbs },
    [4] = { .iid = PLAY_CONTROL_ACTION_PAUSE, .type = HEY_ACTION_ONCE, .cbs = &pause_cbs },
    [5] = { .iid = PLAY_CONTROL_ACTION_RESUME, .type = HEY_ACTION_ONCE, .cbs = &resume_cbs },
    [6] = { .iid = PLAY_CONTROL_ACTION_RECORD_START, .type = HEY_ACTION_ONCE, .cbs = &record_start_cbs },
    [7] = { .iid = PLAY_CONTROL_ACTION_FORWARD, .type = HEY_ACTION_ONCE, .cbs = &forward_cbs },
    [8] = { .iid = PLAY_CONTROL_ACTION_REWIND, .type = HEY_ACTION_ONCE, .cbs = &rewind_cbs },
    [9] = { .iid = PLAY_CONTROL_ACTION_SEARCH_PREVIOUS, .type = HEY_ACTION_ONCE, .cbs = &search_previous_cbs },
    [10] = { .iid = PLAY_CONTROL_ACTION_SEARCH_NEXT, .type = HEY_ACTION_ONCE, .cbs = &search_next_cbs },
    [11] = { .iid = PLAY_CONTROL_ACTION_SCREEN_CAPTURE, .type = HEY_ACTION_ONCE, .cbs = &screen_capture_cbs },
    [12] = { .iid = PLAY_CONTROL_ACTION_RECORD_END, .type = HEY_ACTION_ONCE, .cbs = &record_end_cbs },
    [13] = { .iid = PLAY_CONTROL_ACTION_DIRECTION_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &direction_key_control_cbs },
    [14] = { .iid = PLAY_CONTROL_ACTION_HOME_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &home_key_control_cbs },
    [15] = { .iid = PLAY_CONTROL_ACTION_RETURN_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &return_key_control_cbs },
    [16] = { .iid = PLAY_CONTROL_ACTION_MENU_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &menu_key_control_cbs },
    [17] = { .iid = PLAY_CONTROL_ACTION_SET_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &set_key_control_cbs },
    [18] = { .iid = PLAY_CONTROL_ACTION_SMART_HOME_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &smart_home_key_control_cbs },
    [19] = { .iid = PLAY_CONTROL_ACTION_SPEECH_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &speech_key_control_cbs },
    [20] = { .iid = PLAY_CONTROL_ACTION_CONFIRM_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &confirm_key_control_cbs },
    [21] = { .iid = PLAY_CONTROL_ACTION_FOCUS_ADJUST, .type = HEY_ACTION_ONCE, .cbs = &focus_adjust_cbs },
    [22] = { .iid = PLAY_CONTROL_ACTION_SCREEN_CAST_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &screen_cast_key_control_cbs },
    [23] = { .iid = PLAY_CONTROL_ACTION_REMOTE_KEY_CONTROL, .type = HEY_ACTION_ONCE, .cbs = &remote_key_control_cbs },
};

static int play_control_service_register(Iot__Service__PlayControl__Properties *props)
{
    uint8_t *buf;
    size_t buf_len;
    buf_len = iot__service__play_control__properties__get_packed_size(props);
    if (buf_len == 0) {
        buf = NULL;
    } else {
        buf = malloc(buf_len);
        if (!buf) {
            return ENOMEM;
        }
        iot__service__play_control__properties__pack(props, buf);
    }

    struct hey_schema_service schema_srv;
    hey_schema_service_init(&schema_srv);
    schema_srv.properties.iids = (struct hey_schema_property *)play_control_properties_iids;
    schema_srv.properties.n_iid = PROP_IID_CNT;
    schema_srv.properties.value = buf;
    schema_srv.properties.len = buf_len;
    schema_srv.properties.cbs = &props_cbs;
    schema_srv.actions.iids = (struct hey_action_entry *)actions_iids;
    schema_srv.actions.n_iid = ACT_IID_CNT;
    play_control_service = hey_service_register(PLAY_CONTROL_SERVICE, &schema_srv, NULL);
    if (NULL == play_control_service) {
        free(buf);
        return errno;
    }

    free(buf);
    return 0;
}

/**
 * @brief update properties of play control service
 * @param count      [the number of properties to be updated]
 * @param enumerate  [the iid enumeration of properties to be updated]
 * @param properties [properties structure with updated content]
 * @return int32_t   [update result]
 */
int32_t play_control_properties_update(size_t count, uint32_t *enumerate, struct play_control_properties *properties)
{
    assert(count <= PROP_IID_CNT);
    if (NULL == properties) {
        return EINVAL;
    }

    int ret = 0;
    Iot__Service__PlayControl__Properties *props = NULL;
    uint8_t *buf = NULL;
    props = malloc(sizeof(Iot__Service__PlayControl__Properties));
    if (NULL == props) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__properties__init(props);
    props->playspeed = properties->playspeed;

    size_t buf_len;
    buf_len = iot__service__play_control__properties__get_packed_size(props);
    if (buf_len > 0) {
        buf = malloc(buf_len);
        if (NULL == buf) {
            ret = ENOMEM;
            goto out;
        }
        iot__service__play_control__properties__pack(props, buf);
    }

    struct hey_properties_content content = {
        .n_iid = count,
        .iids = enumerate,
        .len = buf_len,
        .value = buf
    };
    ret = hey_properties_update(play_control_service, &content);

out:
    free(props);
    free(buf);
    return ret;
}

/**
 * @brief play control service initialization
 * @param properties [play control service properties]
 * @return int32_t   [initialize result]
*/
int32_t play_control_service_init(const struct play_control_properties *properties)
{
    int ret = 0;
    Iot__Service__PlayControl__Properties *props = NULL;
    props = malloc(sizeof(Iot__Service__PlayControl__Properties));
    if (NULL == props) {
        ret = ENOMEM;
        goto out;
    }
    iot__service__play_control__properties__init(props);
    if (NULL != properties) {
        props->playspeed = properties->playspeed;
    }

    ret = play_control_service_register(props);

out:
    free(props);
    return ret;
}
